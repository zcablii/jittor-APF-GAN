set num_upsampling_layers to more
----------------- Options ---------------
            D_steps_per_G: 1                             
             aspect_ratio: 1.3333333333333333            
                batchSize: 24                            
                    beta1: 0.0                           
                    beta2: 0.9                           
      cache_filelist_read: True                          
     cache_filelist_write: True                          
          checkpoints_dir: ./checkpoints                 
   contain_dontcare_label: False                         
           continue_train: False                         
                crop_size: 512                           
                 dataroot: ./datasets/coco_stuff/        
             dataset_mode: custom                        
                    debug: False                         
             display_freq: 10000                         
          display_winsize: 256                           
           fade_in_epochs: 50                            
                 gan_mode: hinge                         
                  gpu_ids: 0                             
                image_dir: ../../CGAN/data/train/imgs    	[default: ../data/train/imgs]
                init_type: xavier                        
            init_variance: 0.02                          
             instance_dir:                               
                  isTrain: True                          	[default: None]
                label_dir: ../../CGAN/data/train/gray_label	[default: ../data/train/labels]
                 label_nc: 29                            
              lambda_feat: 10.0                          
               lambda_kld: 0.05                          
               lambda_vgg: 10.0                          
       load_from_opt_file: False                         
                load_size: 640                           
                       lr: 0.0002                        
         max_dataset_size: 9223372036854775807           
                    model: pix2pix                       
                 nThreads: 8                             
               n_layers_D: 4                             
                     name: label2imgs_512x384            	[default: label2img]
                      ndf: 64                            
                      nef: 16                            
                     netD: multiscale                    
             netD_subarch: n_layer                       
                     netG: spade                         
                      ngf: 64                            
                    niter: 300                           
              niter_decay: 0                             
                  no_TTUR: False                         
                  no_flip: False                         
          no_ganFeat_loss: False                         
                  no_html: False                         
              no_instance: True                          
         no_pairing_check: False                         
              no_vgg_loss: False                         
                   norm_D: spectralinstance              
                   norm_E: spectralinstance              
                   norm_G: spectralspadesyncbatch3x3     
                    num_D: 3                             
    num_upsampling_layers: more                          
                optimizer: adam                          
                output_nc: 3                             
                    phase: train                         
          preprocess_mode: scale_width_and_crop          
               print_freq: 10000                         
          save_epoch_freq: 20                            
         save_latest_freq: 50000                         
           serial_batches: False                         
                   tf_log: False                         
                  use_pos: True                          
             use_pos_proj: True                          
                  use_vae: False                         
              which_epoch: latest                        
                    z_dim: 256                           
----------------- End -------------------
train.py --name=label2imgs_512x384 --label_dir=../../CGAN/data/train/gray_label --image_dir=../../CGAN/data/train/imgs
dataset [CustomDataset] of size 10000 was created
Network [SPADEGenerator] was created. Total number of parameters: 70.0 million. To see the architecture, do print(network).
Network [MultiscaleDiscriminator] was created. Total number of parameters: 8.4 million. To see the architecture, do print(network).
create web directory ./checkpoints/label2imgs_512x384/web...
End of epoch 1 / 300 	 Time Taken: 1159 sec
/home/lyx/anaconda3/envs/spade/lib/python3.6/site-packages/torch/nn/functional.py:1698: UserWarning: nn.functional.tanh is deprecated. Use torch.tanh instead.
  warnings.warn("nn.functional.tanh is deprecated. Use torch.tanh instead.")
/home/lyx/anaconda3/envs/spade/lib/python3.6/site-packages/torch/nn/functional.py:3503: UserWarning: The default behavior for interpolate/upsample with float scale_factor changed in 1.6.0 to align with other frameworks/libraries, and now uses scale_factor directly, instead of relying on the computed output size. If you wish to restore the old behavior, please set recompute_scale_factor=True. See the documentation of nn.Upsample for details. 
  "The default behavior for interpolate/upsample with float scale_factor changed "
(epoch: 2, iters: 24, time: 0.056) GAN: 0.749 GAN_Feat: 14.757 VGG: 4.831 D_Fake: 0.564 D_real: 0.706 
End of epoch 2 / 300 	 Time Taken: 1136 sec
